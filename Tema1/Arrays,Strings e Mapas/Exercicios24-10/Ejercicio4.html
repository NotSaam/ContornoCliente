<!DOCTYPE html>
<html>
  <title>Ejercicio 4</title>

  <body>
    <h4>Ejercicio 4</h4>

    <p>
      Escribe un programa en javascript que simule o xogo do aforcado. Teremos
      unha palabra clave escondida, diremos o seu tamaño e unha pista, e según
      se vaian descubrindo as letras amósanse. Só terá como intentos o tamaño da
      letra máis 4 intentos. Exemplo: Palabra escondida barco. Número de
      intentos: 9 intentos. Vanse descubrindo as letras e amósanse. As letras
      non descubertas terán un - Terase que introducir letras ata atopar a
      palabra ou rematar o número de intentos.
    </p>
    <script>
      const palabraClave = "barco";
      const pista = "Es un medio de transporte en el agua.";
      const tamañoPalabra = palabraClave.length;
      const intentosMaximos = tamañoPalabra + 4;
      let intentosRestantes = intentosMaximos;
      let palabraDescubierta = [];

      // Inicializar palabraDescubierta con guiones
      for (let i = 0; i < tamañoPalabra; i++) {
        palabraDescubierta.push("-");
      }

      document.write("Juego del Ahorcado\n");
      document.write(`Número de intentos: ${intentosMaximos} intentos.\n`);
      document.write(`Pista: ${pista}\n`);
      document.write(`Palabra a adivinar: ${palabraDescubierta.join(" ")}\n\n`);

      while (intentosRestantes > 0) {
        const letraIngresada = prompt("Ingresa una letra:").toLowerCase();

        if (letraIngresada.length !== 1) {
          document.write("Por favor, ingresa una sola letra.\n");
          continue;
        }

        if (palabraClave.includes(letraIngresada)) {
          for (let i = 0; i < tamañoPalabra; i++) {
            if (palabraClave[i] === letraIngresada) {
              palabraDescubierta[i] = letraIngresada;
            }
          }
          document.write(
            `¡Bien hecho! ${letraIngresada} está en la palabra.\n`
          );
        } else {
          intentosRestantes--;
          document.write(
            `Intentos restantes: ${intentosRestantes} intentos.\n`
          );
        }

        document.write(
          `Palabra a adivinar: ${palabraDescubierta.join(" ")}\n\n`
        );

        if (palabraDescubierta.join("") === palabraClave) {
          document.write(
            "¡Felicidades! Has adivinado la palabra correctamente.\n"
          );
          break;
        }
      }

      if (intentosRestantes === 0) {
        document.write(
          `¡Agotaste tus intentos! La palabra era "${palabraClave}".\n`
        );
      }
    </script>
  </body>
</html>
