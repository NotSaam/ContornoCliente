<!DOCTYPE html>
<html>
  <head>
    <title>Ejercicio 2</title>
  </head>

  <body>
    <h4></h4>

    <script>
      // Recuperar o obxecto JSON almacenado en LocalStorage
      var barcosJSON = localStorage.getItem("barcos");

      // Comprobar se hai datos en LocalStorage
      if (barcosJSON) {
        // Convertir o JSON a un array de obxectos JavaScript
        var barcos = JSON.parse(barcosJSON);

        // Pedir ao usuario o nome do barco para eliminar
        var nomeEliminar = prompt(
          "Introduce o nome do barco que desexas eliminar:"
        );

        // Variable para controlar se se atopou o barco
        var barcoAtopado = false;

        // Recorrer os barcos para buscar o que se desexa eliminar
        for (var i = 0; i < barcos.length; i++) {
          if (barcos[i].nome === nomeEliminar) {
            // Eliminar o barco do array
            barcos.splice(i, 1);
            // Marcar como atópado
            barcoAtopado = true;
            // Mostrar mensaxe de confirmación
            alert("O barco foi eliminado con éxito.");
            break; // Non é necesario seguir buscando
          }
        }

        // Comprobar se non se atopou o barco
        if (!barcoAtopado) {
          alert("Non se atopou ningún barco con ese nome.");
        }

        // Gardar o array actualizado en LocalStorage
        localStorage.setItem("barcos", JSON.stringify(barcos));
      } else {
        // Se non hai datos no LocalStorage, mostrar unha mensaxe
        alert("Non hai ningún barco almacenado en LocalStorage.");
      }
    </script>
  </body>
</html>
